(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3512],{94629:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(82394),i=n(21831),o=n(82684),u=n(50724),s=n(1402),a=n(97618),c=n(70613),f=n(31557),l=n(68899),d=n(28598);function p(e,t){var n=e.children,r=e.noPadding;return(0,d.jsx)(l.HS,{noPadding:r,ref:t,children:n})}var h=o.forwardRef(p),b=n(62547),v=n(82571),m=n(98464),O=n(77417),g=n(46684),E=n(70515),S=n(53808),j=n(19183);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){e.addProjectBreadcrumbToCustomBreadcrumbs;var n=e.after,r=e.afterHeader,p=e.afterHidden,w=e.afterWidth,_=e.afterWidthOverride,k=e.appendBreadcrumbs,P=e.before,I=e.beforeHeader,x=e.beforeWidth,R=e.breadcrumbs,Z=e.children,C=e.contained,T=e.errors,A=e.headerMenuItems,M=e.headerOffset,W=e.hideAfterCompletely,H=e.mainContainerHeader,L=e.navigationItems,B=e.setAfterHidden,N=e.setAfterWidth,D=e.setBeforeWidth,F=e.setErrors,U=e.subheaderChildren,G=e.subheaderNoPadding,q=e.title,K=e.uuid,X=(0,j.i)().width,z="dashboard_after_width_".concat(K),Q="dashboard_before_width_".concat(K),Y=Math.max((0,S.U2)(z,30*E.iI),30*E.iI)||30*E.iI,$=Math.max((0,S.U2)(Q,30*E.iI),30*E.iI)||30*E.iI,J=(0,o.useRef)(null),V=(0,o.useState)(!1),ee=V[0],te=V[1],ne=(0,o.useState)(null),re=ne[0],ie=ne[1],oe=(0,o.useMemo)((function(){return"undefined"!==typeof N||_?w:re}),[w,re,_,N]),ue=(0,o.useCallback)((function(e){var t=e;return N?N(e):ie(e),(0,S.t8)(z,Math.max(t,20*E.iI)),t}),[z,N,ie]);(0,o.useEffect)((function(){n&&!oe&&ue(Y?Math.max(Y,20*E.iI):w)}),[]);var se=(0,o.useState)(null),ae=se[0],ce=se[1],fe=(0,o.useMemo)((function(){return"undefined"!==typeof D?x:ae}),[x,ae,D]),le=(0,o.useCallback)((function(e){var t=e;return D?D(e):ce(e),(0,S.t8)(Q,Math.max(t,20*E.iI)),t}),[Q,D,ce]);(0,o.useEffect)((function(){P&&!fe&&le($?Math.max($,20*E.iI):x)}),[]);var de=(0,o.useState)(!1),pe=de[0],he=de[1],be=(0,o.useState)(null)[1],ve=(0,O.Z)().project,me=[];R&&me.push.apply(me,(0,i.Z)(R)),null!==R&&void 0!==R&&R.length&&!k||!ve||null!==R&&void 0!==R&&R.length||me.unshift({bold:!k,label:function(){return q}}),(0,o.useEffect)((function(){null===J||void 0===J||!J.current||ee||pe||null===be||void 0===be||be(J.current.getBoundingClientRect().width)}),[ee,oe,pe,fe,J,be,X]),(0,o.useEffect)((function(){ee||(0,S.t8)(z,oe)}),[p,ee,oe,z]),(0,o.useEffect)((function(){pe||(0,S.t8)(Q,fe)}),[pe,fe,Q]);var Oe=(0,m.Z)(w);return(0,o.useEffect)((function(){_&&Oe!==w&&ue(w)}),[_,w,Oe]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.Z,{title:q}),(0,d.jsx)(f.Z,{breadcrumbs:me,menuItems:A}),(0,d.jsxs)(l.Nk,{ref:t,children:[0!==(null===L||void 0===L?void 0:L.length)&&(0,d.jsx)(l.lm,{showMore:!0,children:(0,d.jsx)(v.Z,{navigationItems:L,showMore:!0})}),(0,d.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,d.jsxs)(b.Z,{after:n,afterHeader:r,afterHeightOffset:g.Mz,afterHidden:p,afterMousedownActive:ee,afterWidth:oe,before:P,beforeHeader:I,beforeHeightOffset:g.Mz,beforeMousedownActive:pe,beforeWidth:P?fe:l.k1,contained:C,headerOffset:M,hideAfterCompletely:!n||!B||W,leftOffset:P?l.k1:null,mainContainerHeader:H,mainContainerRef:J,setAfterHidden:B,setAfterMousedownActive:te,setAfterWidth:ue,setBeforeMousedownActive:he,setBeforeWidth:le,children:[U&&(0,d.jsx)(h,{noPadding:G,children:U}),Z]})})]}),T&&(0,d.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===F||void 0===F?void 0:F(null)},children:(0,d.jsx)(s.Z,y(y({},T),{},{onClose:function(){return null===F||void 0===F?void 0:F(null)}}))})]})}var k=o.forwardRef(_)},68669:function(e,t,n){"use strict";n.d(t,{TU:function(){return h},ck:function(){return d},lU:function(){return p}});var r=n(21831),i=n(17717),o=n(44425),u=n(57653),s=n(89706),a=n(86735),c=n(74401),f=n(81728),l=n(42122),d=function(e){var t;if(null===e||void 0===e||e.forEach((function(e){if((null===e||void 0===e?void 0:e.length)>=1){var n=null===e||void 0===e?void 0:e.toLowerCase();(n in o.qC||(n=(0,f.C5)(n))in o.GJ)&&(t=n)}})),!t){var n=["\\.".concat(s.Lu.SQL),"\\.".concat(s.Lu.YAML),"\\.".concat(s.Lu.YML)].join("|"),r=new RegExp("".concat(n,"$"));if(e.join(i.sep).match(r))return o.tf.DBT}return t};function p(){return new RegExp(Object.keys(s.nB).map((function(e){return".(".concat(e,")$")})).join("|"))}function h(e,t,n){var h,b,v=null===e||void 0===e||null===(h=e.path.match(p())[0])||void 0===h?void 0:h.split(".")[1],m=n.type===u.qL.INTEGRATION,O=(0,a.sE)(null===n||void 0===n?void 0:n.blocks,(function(e){var t=e.type;return o.tf.DATA_EXPORTER===t})),g=e.path.replace(t,"").split(i.sep),E=d(e.path.split(i.sep)),S=o.tf.DBT===E,j=(b=g)[0]===o.tf.DBT?b.slice(1).join(i.sep):function(e){return e.at(-1)}(b).split(".")[0];if(g.length>=3&&!S){var w=g.slice(1,g.length-1).join(i.sep);j="".concat(w,"/").concat(j)}var y=s.nB[v],_={configuration:(0,l.hB)({file_path:S&&o.t6.SQL===y?(0,c.a)(e):null,file_source:{path:(0,c.a)(e)}}),language:y,name:(0,f.wE)(j),type:E};if(E===o.tf.CUSTOM&&(_.color=o.Lq.TEAL),m){var k=(0,a.sE)(n.blocks,(function(e){var t=e.type;return o.tf.DATA_LOADER===t})),P=(0,a.sE)(n.blocks,(function(e){var t=e.type;return o.tf.TRANSFORMER===t})),I=[];P?I.push(P.uuid):null!==O&&void 0!==O&&O.upstream_blocks?I.push.apply(I,(0,r.Z)(O.upstream_blocks)):k&&I.push(k.uuid),_.upstream_blocks=I}return _}},75083:function(e,t,n){"use strict";n.d(t,{HF:function(){return o},L6:function(){return r}});var r,i=n(72473);function o(e,t,n){var o=e.owner,u=(e.roles,[{Icon:i.WorkspacesIcon,id:r.WORKSPACES,isSelected:function(){return r.WORKSPACES===n},label:function(){return"Workspaces"},linkProps:{href:"/manage"}}]);return o&&u.push({Icon:i.WorkspacesUsersIcon,id:r.USERS,isSelected:function(){return r.USERS===n},label:function(){return"Users"},linkProps:{href:"/manage/users"}}),u.push.apply(u,[{Icon:i.Settings,id:r.SETTINGS,isSelected:function(){return r.SETTINGS===n},label:function(){return"Settings"},linkProps:{href:"/manage/settings"}},{Icon:i.File,id:r.FILE_BROWSER,isSelected:function(){return r.FILE_BROWSER===n},label:function(){return"File browser"},linkProps:{href:"/manage/files"}}]),u}!function(e){e.WORKSPACES="workspaces",e.USERS="users",e.SETTINGS="settings",e.FILE_BROWSER="file_browser"}(r||(r={}))},59533:function(e,t,n){"use strict";var r=n(82684),i=n(94629),o=n(35686),u=n(70515),s=n(75083),a=n(50178),c=n(28598);t.Z=function(e){var t=e.before,n=e.breadcrumbs,f=void 0===n?[]:n,l=e.children,d=e.errors,p=e.headerOffset,h=e.mainContainerHeader,b=e.pageName,v=e.setErrors,m=e.subheaderChildren,O=o.ZP.statuses.list().data,g=(0,r.useMemo)((function(){var e,t;return null===O||void 0===O||null===(e=O.statuses)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.project_type}),[O]),E=(0,a.PR)()||{};return(0,c.jsx)(i.Z,{before:t,beforeWidth:t?50*u.iI:0,breadcrumbs:f,errors:d,headerOffset:p,mainContainerHeader:h,navigationItems:(0,s.HF)(E,g,b),setErrors:v,subheaderChildren:m,title:"Workspaces",uuid:"workspaces/index",children:l})}},27216:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(38860),o=n.n(i),u=n(82684),s=n(43449),a=n(93808),c=n(59533),f=n(75083),l=n(28598);function d(){var e=(0,u.useState)(null),t=e[0];e[1];return(0,l.jsx)(c.Z,{breadcrumbs:[{label:function(){return"Workspaces"},linkProps:{as:"/manage",href:"/manage"}},{bold:!0,label:function(){return"Settings"}}],errors:t,pageName:f.L6.SETTINGS,children:(0,l.jsx)(s.Z,{active:!0,filePath:"metadata.yaml",selectedFilePath:"metadata.yaml",setFilesTouched:function(){return null}})})}d.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,a.Z)(d)},1116:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/settings",function(){return n(27216)}])},80022:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15544:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},13692:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(61049);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},93189:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(12539),i=n(80022);function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[6085,1557,8038,3449,9774,2888,179],(function(){return t=1116,e(e.s=t);var t}));var t=e.O();_N_E=t}]);