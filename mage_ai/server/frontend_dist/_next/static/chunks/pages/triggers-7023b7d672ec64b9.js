(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var r=t(82394),i=t(21831),o=t(82684),u=t(50724),c=t(1402),l=t(97618),a=t(70613),s=t(31557),d=t(68899),f=t(28598);function p(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var h=o.forwardRef(p),v=t(62547),b=t(82571),g=t(98464),m=t(77417),O=t(46684),j=t(70515),P=t(53808),y=t(19183);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function x(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,p=e.afterHidden,w=e.afterWidth,x=e.afterWidthOverride,_=e.appendBreadcrumbs,E=e.before,k=e.beforeHeader,C=e.beforeWidth,A=e.breadcrumbs,M=e.children,I=e.contained,T=e.errors,S=e.headerMenuItems,D=e.headerOffset,N=e.hideAfterCompletely,R=e.mainContainerHeader,H=e.navigationItems,U=e.setAfterHidden,B=e.setAfterWidth,L=e.setBeforeWidth,V=e.setErrors,W=e.subheaderChildren,X=e.subheaderNoPadding,F=e.title,Y=e.uuid,z=(0,y.i)().width,Q="dashboard_after_width_".concat(Y),J="dashboard_before_width_".concat(Y),$=(0,P.U2)(Q),G=(0,P.U2)(J),q=(0,o.useRef)(null),K=(0,o.useState)(!1),ee=K[0],ne=K[1],te=(0,o.useState)(null),re=te[0],ie=te[1],oe=(0,o.useMemo)((function(){return"undefined"!==typeof B||x?w:re}),[w,re,x,B]),ue=(0,o.useCallback)((function(e){var n=e;return B?B(e):ie(e),(0,P.t8)(Q,Math.max(n,20*j.iI)),n}),[Q,B,ie]);(0,o.useEffect)((function(){t&&!oe&&ue($?Math.max($,20*j.iI):w)}),[]);var ce=(0,o.useState)(null),le=ce[0],ae=ce[1],se=(0,o.useMemo)((function(){return"undefined"!==typeof L?C:le}),[C,le,L]),de=(0,o.useCallback)((function(e){var n=e;return L?L(e):ae(e),(0,P.t8)(J,Math.max(n,20*j.iI)),n}),[J,L,ae]);(0,o.useEffect)((function(){E&&!se&&de(G?Math.max(G,20*j.iI):C)}),[]);var fe=(0,o.useState)(!1),pe=fe[0],he=fe[1],ve=(0,o.useState)(null)[1],be=(0,m.Z)().project,ge=[];A&&ge.push.apply(ge,(0,i.Z)(A)),null!==A&&void 0!==A&&A.length&&!_||!be||null!==A&&void 0!==A&&A.length||ge.unshift({bold:!_,label:function(){return F}}),(0,o.useEffect)((function(){null===q||void 0===q||!q.current||ee||pe||null===ve||void 0===ve||ve(q.current.getBoundingClientRect().width)}),[ee,oe,pe,se,q,ve,z]),(0,o.useEffect)((function(){ee||(0,P.t8)(Q,oe)}),[p,ee,oe,Q]),(0,o.useEffect)((function(){pe||(0,P.t8)(J,se)}),[pe,se,J]);var me=(0,g.Z)(w);return(0,o.useEffect)((function(){x&&me!==w&&ue(w)}),[x,w,me]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:F}),(0,f.jsx)(s.Z,{breadcrumbs:ge,menuItems:S}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null===H||void 0===H?void 0:H.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(b.Z,{navigationItems:H,showMore:!0})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:t,afterHeader:r,afterHeightOffset:O.Mz,afterHidden:p,afterMousedownActive:ee,afterWidth:oe,before:E,beforeHeader:k,beforeHeightOffset:O.Mz,beforeMousedownActive:pe,beforeWidth:E?se:d.k1,contained:I,headerOffset:D,hideAfterCompletely:!t||!U||N,leftOffset:E?d.k1:null,mainContainerHeader:R,mainContainerRef:q,setAfterHidden:U,setAfterMousedownActive:ne,setAfterWidth:ue,setBeforeMousedownActive:he,setBeforeWidth:de,children:[W&&(0,f.jsx)(h,{noPadding:X,children:W}),M]})})]}),T&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===V||void 0===V?void 0:V(null)},children:(0,f.jsx)(c.Z,Z(Z({},T),{},{onClose:function(){return null===V||void 0===V?void 0:V(null)}}))})]})}var _=o.forwardRef(x)},16488:function(e,n,t){"use strict";t.d(n,{IJ:function(){return v},M8:function(){return x},Uc:function(){return j},XM:function(){return Z},_U:function(){return h},eI:function(){return O},gU:function(){return y},lO:function(){return A},ri:function(){return g},tL:function(){return P},vJ:function(){return w},xH:function(){return m}});var r,i=t(82394),o=t(92083),u=t.n(o),c=t(3917),l=t(4383),a=t(30229),s=t(42122),d=t(86735);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e){return!!e&&!Object.values(a.U5).includes(e)};function v(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t=n.block_uuid,r=n.completed_at,o=n.started_at,c=n.status,l=null;o&&r&&(l=u()(r).valueOf()-u()(o).valueOf());return p(p({},e),{},(0,i.Z)({},t,{runtime:l,status:c}))}),{})}var b,g=function(e){var n=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:a.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:a.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:a.Xm.API}];return e?n.slice(0,1):n};function m(e){var n=(0,s.gR)(e,[a.gm.INTERVAL,a.gm.TYPE]),t=e[a.gm.INTERVAL];t&&(n["schedule_interval[]"]=encodeURIComponent(t));var r=e[a.gm.TYPE];return r&&(n["schedule_type[]"]=r),n}function O(e){return e?new Date(u()(e).valueOf()):null}function j(e,n){return n?(0,c.XG)(e,n):function(e){if("string"!==typeof e)return e;var n=e.split("+")[0];return u()(O(n)).format(c.Nx)}(e)}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(b||(b={}));var P=(r={},(0,i.Z)(r,b.DAY,86400),(0,i.Z)(r,b.HOUR,3600),(0,i.Z)(r,b.MINUTE,60),(0,i.Z)(r,b.SECOND,1),r);function y(e){var n=b.SECOND,t=e;return e%86400===0?(t/=86400,n=b.DAY):e%3600===0?(t/=3600,n=b.HOUR):e%60===0&&(t/=60,n=b.MINUTE),{time:t,unit:n}}function w(e,n){return e*P[n]}function Z(e,n,t){var r,i=u()(e);return i.set("hour",+(null===n||void 0===n?void 0:n.hour)||0),i.set("minute",+(null===n||void 0===n?void 0:n.minute)||0),i.set("second",0),r=i.format(c.TD),null!==t&&void 0!==t&&t.includeSeconds&&(r=r.concat(":00")),null!==t&&void 0!==t&&t.localTimezone&&(r=i.format(c.lE),null!==t&&void 0!==t&&t.convertToUtc&&(r=(0,c.d$)(r,{includeSeconds:null===t||void 0===t?void 0:t.includeSeconds,utcFormat:!0}))),r}function x(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="",i=!0;return i&&(t?r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/api_trigger"):(r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(r="".concat(r,"/").concat(e.token)))),i&&(n=window.location.port)&&(r=r.replace(n,l.QT)),r}function _(e,n,t){return e.match(/[*,-/]/)?{additionalOffset:0,cronValue:e}:function(e,n,t){var r=t.indexOf(e),i=0;if(n<0)for(var o=0;o>n;o--)0===r?(r=t.length-1,i-=1):r-=1;else if(n>0)for(var u=0;u<n;u++)r===t.length-1?(r=0,i+=1):r+=1;return{additionalOffset:i,cronValue:String(t[r]||e)}}(+e,n,t)}var E=(0,d.m5)(60),k=(0,d.m5)(24),C=(0,c.Cs)();function A(e,n){if(!e)return e;var t=u()().local().format("Z"),r=t.split(":"),i="-"===t[0],o=3===r[0].length?Number(r[0].slice(1)):Number(r[0]),c=Number(r[1]);(i&&!n||!i&&n)&&(o=-o,c=-c);var l=e.split(" "),a=l[0],s=l[1],d=l[2],f=_(a,c,E),p=_(s,o+f.additionalOffset,k);if(l[0]=f.cronValue,l[1]=p.cronValue,0!==(null===p||void 0===p?void 0:p.additionalOffset)){var h=_(d,p.additionalOffset,C);l[2]=h.cronValue}return l.join(" ")}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),o=t(38276),u=t(31748),c=t(72473),l=t(79633),a=t(70515),s=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=t;if(h>f)p=Array.from({length:f},(function(e,n){return n}));else{var v=Math.floor(h/2),b=n-v;n+v>=f?(b=f-h+2,h-=2):n-v<=0?(b=0,h-=2):(h-=4,b=n-Math.floor(h/2)),p=Array.from({length:h},(function(e,n){return n+b}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.ZP,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(c.PaginateArrowLeft,{size:1.5*a.iI,stroke:u.Av})}),!p.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{backgroundColor:e===n&&l.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!p.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(r.ZP,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(c.PaginateArrowRight,{size:1.5*a.iI,stroke:u.Av})})]})})}},77174:function(e,n,t){"use strict";t.r(n);var r=t(77837),i=t(82394),o=t(75582),u=t(38860),c=t.n(u),l=t(82684),a=t(34376),s=t(94629),d=t(55485),f=t(55072),p=t(93808),h=t(82359),v=t(44085),b=t(38276),g=t(30160),m=t(29624),O=t(35686),j=t(30229),P=t(70515),y=t(15610),w=t(69419),Z=t(70320),x=t(28598);function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function k(){var e=(0,a.useRouter)(),n=(0,l.useState)(null),t=n[0],r=n[1],i=(0,w.iV)(),u=null!==i&&void 0!==i&&i.page?i.page:0,c=(null===i||void 0===i?void 0:i.order_by)||j.kJ.CREATED_AT,p=O.ZP.projects.list().data,_=(0,l.useMemo)((function(){var e;return null===p||void 0===p||null===(e=p.projects)||void 0===e?void 0:e[0]}),[p]),k=((0,l.useMemo)((function(){var e;return(0,Z.hY)(null===_||void 0===_||null===(e=_.features)||void 0===e?void 0:e[h.d.LOCAL_TIMEZONE])}),[null===_||void 0===_?void 0:_.features]),{_limit:f.Q,_offset:u*f.Q,order_by:c}),C=O.ZP.pipeline_schedules.list(k,{refreshInterval:7500,revalidateOnFocus:!0}),A=C.data,M=C.mutate,I=(0,l.useMemo)((function(){return(null===A||void 0===A?void 0:A.pipeline_schedules)||[]}),[A]),T=(0,l.useMemo)((function(){var e;return(null===A||void 0===A||null===(e=A.metadata)||void 0===e?void 0:e.count)||[]}),[A]);return(0,x.jsxs)(s.Z,{errors:t,setErrors:r,title:"Triggers",uuid:"triggers/index",children:[(0,x.jsx)(b.Z,{mx:2,my:1,children:(0,x.jsxs)(d.ZP,{alignItems:"center",children:[(0,x.jsx)(g.ZP,{bold:!0,default:!0,large:!0,children:"Sort runs by:"}),(0,x.jsx)(b.Z,{mr:1}),(0,x.jsx)(v.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(e){e.preventDefault(),(0,y.u)({order_by:e.target.value,page:0})},paddingRight:4*P.iI,placeholder:"Select column",value:c||j.kJ.CREATED_AT,children:Object.entries(j.TR).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return(0,x.jsx)("option",{value:t,children:r},t)}))})]})}),(0,x.jsx)(m.Z,{fetchPipelineSchedules:M,highlightRowOnHover:!0,includeCreatedAtColumn:!0,includePipelineColumn:!0,pipelineSchedules:I,setErrors:r,stickyHeader:!0}),(0,x.jsx)(b.Z,{p:2,children:(0,x.jsx)(f.ZP,{maxPages:9,onUpdate:function(n){var t=Number(n),r=E(E({},i),{},{page:t>=0?t:0});e.push("/triggers","/triggers?".concat((0,w.uM)(r)))},page:Number(u),totalPages:Math.ceil(T/f.Q)})})]})}k.getInitialProps=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,p.Z)(k)},59733:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triggers",function(){return t(77174)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(61049);function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,r.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(12539),i=t(80022);function o(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[6085,1557,8038,9624,9774,2888,179],(function(){return n=59733,e(e.s=n);var n}));var n=e.O();_N_E=n}]);