(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{94629:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(82394),i=n(21831),u=n(82684),o=n(50724),s=n(1402),c=n(97618),a=n(70613),f=n(31557),l=n(68899),d=n(28598);function p(e,t){var n=e.children,r=e.noPadding;return(0,d.jsx)(l.HS,{noPadding:r,ref:t,children:n})}var h=u.forwardRef(p),v=n(62547),b=n(82571),O=n(98464),j=n(77417),g=n(46684),m=n(70515),P=n(53808),_=n(19183);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){e.addProjectBreadcrumbToCustomBreadcrumbs;var n=e.after,r=e.afterHeader,p=e.afterHidden,y=e.afterWidth,Z=e.afterWidthOverride,x=e.appendBreadcrumbs,M=e.before,E=e.beforeHeader,C=e.beforeWidth,k=e.breadcrumbs,A=e.children,I=e.contained,D=e.errors,S=e.headerMenuItems,H=e.headerOffset,N=e.hideAfterCompletely,T=e.mainContainerHeader,R=e.navigationItems,W=e.setAfterHidden,B=e.setAfterWidth,U=e.setBeforeWidth,F=e.setErrors,L=e.subheaderChildren,Q=e.subheaderNoPadding,q=e.title,z=e.uuid,V=(0,_.i)().width,X="dashboard_after_width_".concat(z),Y="dashboard_before_width_".concat(z),G=(0,P.U2)(X),K=(0,P.U2)(Y),J=(0,u.useRef)(null),$=(0,u.useState)(!1),ee=$[0],te=$[1],ne=(0,u.useState)(null),re=ne[0],ie=ne[1],ue=(0,u.useMemo)((function(){return"undefined"!==typeof B||Z?y:re}),[y,re,Z,B]),oe=(0,u.useCallback)((function(e){var t=e;return B?B(e):ie(e),(0,P.t8)(X,Math.max(t,20*m.iI)),t}),[X,B,ie]);(0,u.useEffect)((function(){n&&!ue&&oe(G?Math.max(G,20*m.iI):y)}),[]);var se=(0,u.useState)(null),ce=se[0],ae=se[1],fe=(0,u.useMemo)((function(){return"undefined"!==typeof U?C:ce}),[C,ce,U]),le=(0,u.useCallback)((function(e){var t=e;return U?U(e):ae(e),(0,P.t8)(Y,Math.max(t,20*m.iI)),t}),[Y,U,ae]);(0,u.useEffect)((function(){M&&!fe&&le(K?Math.max(K,20*m.iI):C)}),[]);var de=(0,u.useState)(!1),pe=de[0],he=de[1],ve=(0,u.useState)(null)[1],be=(0,j.Z)().project,Oe=[];k&&Oe.push.apply(Oe,(0,i.Z)(k)),null!==k&&void 0!==k&&k.length&&!x||!be||null!==k&&void 0!==k&&k.length||Oe.unshift({bold:!x,label:function(){return q}}),(0,u.useEffect)((function(){null===J||void 0===J||!J.current||ee||pe||null===ve||void 0===ve||ve(J.current.getBoundingClientRect().width)}),[ee,ue,pe,fe,J,ve,V]),(0,u.useEffect)((function(){ee||(0,P.t8)(X,ue)}),[p,ee,ue,X]),(0,u.useEffect)((function(){pe||(0,P.t8)(Y,fe)}),[pe,fe,Y]);var je=(0,O.Z)(y);return(0,u.useEffect)((function(){Z&&je!==y&&oe(y)}),[Z,y,je]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Z,{title:q}),(0,d.jsx)(f.Z,{breadcrumbs:Oe,menuItems:S}),(0,d.jsxs)(l.Nk,{ref:t,children:[0!==(null===R||void 0===R?void 0:R.length)&&(0,d.jsx)(l.lm,{showMore:!0,children:(0,d.jsx)(b.Z,{navigationItems:R,showMore:!0})}),(0,d.jsx)(c.Z,{flex:1,flexDirection:"column",children:(0,d.jsxs)(v.Z,{after:n,afterHeader:r,afterHeightOffset:g.Mz,afterHidden:p,afterMousedownActive:ee,afterWidth:ue,before:M,beforeHeader:E,beforeHeightOffset:g.Mz,beforeMousedownActive:pe,beforeWidth:M?fe:l.k1,contained:I,headerOffset:H,hideAfterCompletely:!n||!W||N,leftOffset:M?l.k1:null,mainContainerHeader:T,mainContainerRef:J,setAfterHidden:W,setAfterMousedownActive:te,setAfterWidth:oe,setBeforeMousedownActive:he,setBeforeWidth:le,children:[L&&(0,d.jsx)(h,{noPadding:Q,children:L}),A]})})]}),D&&(0,d.jsx)(o.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===F||void 0===F?void 0:F(null)},children:(0,d.jsx)(s.Z,w(w({},D),{},{onClose:function(){return null===F||void 0===F?void 0:F(null)}}))})]})}var x=u.forwardRef(Z)},78234:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(82394),u=n(38860),o=n.n(u),s=n(82684),c=n(34376),a=n(94629),f=n(55072),l=n(53943),d=n(93808),p=n(82359),h=n(38276),v=n(4190),b=n(85544),O=n(35686),j=n(44265),g=n(70515),m=n(69419),P=n(86735),_=n(70320),y=n(28598);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){var e=(0,c.useRouter)(),t=(0,s.useState)(null),n=t[0],r=t[1],u=(0,m.iV)(),o=null!==u&&void 0!==u&&u.page?u.page:0,d=(0,m.DQ)(u,[j.P0.PIPELINE_UUID,j.P0.STATUS,j.P0.TAG]),w=O.ZP.projects.list().data,x=(0,s.useMemo)((function(){var e;return null===w||void 0===w||null===(e=w.projects)||void 0===e?void 0:e[0]}),[w]),M=((0,s.useMemo)((function(){var e;return(0,_.hY)(null===x||void 0===x||null===(e=x.features)||void 0===e?void 0:e[p.d.LOCAL_TIMEZONE])}),[null===x||void 0===x?void 0:x.features]),Z(Z({},d),{},{_limit:f.Q,_offset:o*f.Q,disable_retries_grouping:!0,include_pipeline_tags:!0,include_pipeline_uuids:!0}));null!==u&&void 0!==u&&u.status&&(M.status=u.status);var E=O.ZP.pipeline_runs.list(M,{refreshInterval:3e3,revalidateOnFocus:!0}),C=E.data,k=E.mutate,A=O.ZP.tags.list().data,I=(0,s.useMemo)((function(){return(0,P.YC)((null===A||void 0===A?void 0:A.tags)||[],(function(e){return e.uuid}))}),[A]),D=(0,s.useMemo)((function(){return(null===C||void 0===C?void 0:C.pipeline_runs)||[]}),[C]),S=(0,s.useMemo)((function(){var e;return(null===C||void 0===C||null===(e=C.metadata)||void 0===e?void 0:e.count)||[]}),[C]),H=(0,s.useMemo)((function(){var e;return(null===C||void 0===C||null===(e=C.metadata)||void 0===e?void 0:e.pipeline_uuids)||[]}),[C]),N=(0,s.useMemo)((function(){return(0,y.jsx)(b.Z,{filterOptions:{pipeline_uuid:H,pipeline_tag:I.map((function(e){return e.uuid})),status:j.IK},filterValueLabelMapping:{pipeline_tag:I.reduce((function(e,t){var n=t.uuid;return Z(Z({},e),{},(0,i.Z)({},n,n))}),{}),status:j.Do},onClickFilterDefaults:function(){e.push("/pipeline-runs")},query:d,resetPageOnFilterApply:!0})}),[H,d,e,I]);return(0,y.jsx)(a.Z,{errors:n,setErrors:r,subheaderChildren:N,title:"Pipeline runs",uuid:"pipeline_runs/index",children:C?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.Z,{fetchPipelineRuns:k,includePipelineTags:!0,pipelineRuns:D,setErrors:r}),(0,y.jsx)(h.Z,{p:2,children:(0,y.jsx)(f.ZP,{maxPages:f.Et,onUpdate:function(t){var n=Number(t),r=Z(Z({},u),{},{page:n>=0?n:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,m.uM)(r)))},page:Number(o),totalPages:Math.ceil(S/f.Q)})})]}):(0,y.jsx)(h.Z,{p:g.Mq,children:(0,y.jsx)(v.Z,{inverted:!0,large:!0})})})}x.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,d.Z)(x)},60710:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return n(78234)}])},80022:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15544:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},13692:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(61049);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},93189:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(12539),i=n(80022);function u(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[6085,1557,8038,3943,2474,9774,2888,179],(function(){return t=60710,e(e.s=t);var t}));var t=e.O();_N_E=t}]);